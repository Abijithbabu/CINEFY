const express = require('express')
const { signup, login, getUser, logout, resetPassword, updateProfile , sendOtp, createPost, getPost, getPostDetails, gLogin, applyJob, getAllUsers, editPost, getApplicants, getAllApplicants, getUserDetails, updateStatus, updateSubscription, blockPost } = require('../controllers/user-controller')
const { verifyToken } = require('../middleware/authMiddleware')
const router = express.Router()
const {upload} = require('../middleware/multer')
router.post('/signup',signup)
router.post('/login',login)
router.post('/gLogin',gLogin)
router.post('/sendOtp', sendOtp)
router.get('/user',getUser)
router.post('/logout',verifyToken,logout)
router.patch('/resetPassword', resetPassword)
router.post('/updateProfile',verifyToken,upload.single('image'),updateProfile)
 
router.post('/createPost',verifyToken,upload.single('image'),createPost) 
router.post('/editPost',verifyToken,upload.single('image'),editPost) 
router.post('/getPosts',getPost)
router.patch('/updateSubscription', updateSubscription)
router.patch('/updateStatus',updateStatus)
router.patch('/blockpost',blockPost)
router.post('/getApplicants',getApplicants)
router.post('/getAllApplicants',getAllApplicants)
router.get('/getUserDetails',getUserDetails)
router.get('/getPostDetails',getPostDetails)
router.patch('/applyJob',applyJob)
router.get("/allusers/:id", getAllUsers);
module.exports = router   
